webdriver {
  driver = chrome
  wait.for.timeout = 15000
  capabilities {
    "goog:chromeOptions" {
      args = [
        "--disable-save-password-bubble",
        "--disable-password-manager-reauthentication",
        "--disable-features=PasswordLeakDetection,PasswordCheck,PasswordManagerOnboarding",
        "--disable-component-update",
        "--no-first-run",
        "--disable-default-apps",
        "--disable-popup-blocking",
        "--disable-infobars",
        "--disable-notifications",
        "--incognito"
      ]
      excludeSwitches = ["enable-automation"]
      prefs {
        credentials_enable_service = false
        "profile.password_manager_enabled" = false
        "profile.password_manager_leak_detection" = false
        "autofill.profile_enabled" = false
        "autofill.credit_card_enabled" = false
      }
    }
  }
}

headless.mode = false

serenity {
  project.name = "SauceDemo Web Tests"
  take.screenshots = AFTER_EACH_STEP
}